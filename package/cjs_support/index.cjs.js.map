{"version":3,"file":"index.cjs.js","sources":["../node_modules/object-assign/index.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/jsx-runtime.js","../react/jsx-runtime","../TSAccountProtectionProvider.tsx"],"sourcesContent":["/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/** @license React v17.0.2\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","import * as jsxRuntime from \"/Users/adidimant/Documents/Transmit/Projects/react-ts-riskid/package/node_modules/react/jsx-runtime.js\"\nexport const jsx = jsxRuntime.jsx\nexport const jsxs = jsxRuntime.jsxs\nexport const Fragment = jsxRuntime.Fragment","import React, { createContext, Dispatch, useContext, useReducer, useMemo, useEffect } from 'react';\n\ndeclare let TSAccountProtection: any;\ndeclare global {\n  interface Window {\n    myTSAccountProtection: any;\n  }\n}\ninterface ActionResponse {\n  actionToken?: string;\n}\n\nconst RISKID_SDK_SCRIPT = 'riskid_sdk_script';\nconst SDK_INIT_ERR = 'SDK init error';\nconst SDK_LOAD_ERR = 'SDK load error';\nconst SDK_TRIGGER_ACTION_ERR = 'Error sending action event';\nconst SDK_AUTHENTICATE_USER_ERR = 'Error authenticating user';\nconst SDK_CLEAR_USER_ERR = 'Error clearing user';\n\ntype ProviderState = {\n  initialized: Promise<boolean>;\n  clientId: string;\n  userId?: string;\n  sdkVersion: string;\n  serverUrl: string;\n  onError: (err: any) => void;\n};\n\ninterface QuerablePromise extends Promise<any> {\n  status: PromiseStatus;\n};\n\nenum PromiseStatus {\n  Pending = 'pending',\n  Fulfilled = 'fulfilled',\n  Rejected = 'rejected',\n};\n\nfunction makeQuerablePromise(promise: Promise<any>): QuerablePromise {\n  // Set initial state\n  let isPending = true;\n  let isRejected = false;\n  let isFulfilled = false;\n\n  // Observe the promise, saving the fulfillment in a closure scope.\n  let result = promise.then(\n      function (value: any) {\n          isFulfilled = true;\n          isPending = false;\n          return value; \n      }, \n      function (err: Error) {\n          isRejected = true;\n          isPending = false;\n          throw err; \n      }\n  ) as QuerablePromise;\n\n  if (isFulfilled) {\n    result.status = PromiseStatus.Fulfilled;\n  } else if (isRejected) {\n    result.status = PromiseStatus.Rejected;\n  } else {\n    result.status = PromiseStatus.Pending;\n  }\n  return result;\n}\n\nconst buildSdkError = (err: any, message: string) => {\n  return {\n    message,\n    err,\n  };\n};\n\nconst generateSdkUrl = (sdkVersion: string) => {\n  return `https://cdn.riskid.security/sdk/web_sdk_${sdkVersion}.js`;\n};\n\nconst getLoadSDKPromise = (id: string, sdkVersion: string, parentElement?: HTMLHeadElement): Promise<void> => {\n  if (typeof document === 'undefined' || document.getElementById(id)) {\n    // document is exist if platform is a browser\n    throw new Error('SDK already loaded or cannot be loaded');\n  }\n  return new Promise((resolve, reject) => {\n    const scriptTag = document.createElement('script');\n\n    const sdkSrcUrl = generateSdkUrl(sdkVersion);\n\n    scriptTag.defer = true;\n    scriptTag.src = sdkSrcUrl;\n    scriptTag.id = id;\n    scriptTag.onload = () => resolve();\n    scriptTag.onerror = () => reject();\n\n    if (!parentElement) {\n      parentElement = document.head;\n    }\n\n    parentElement.appendChild(scriptTag);\n  });\n};\n\nconst buildProviderState = (clientId: string, options?: { [key: string]: any }): ProviderState => {\n  return {\n    initialized: false,\n    clientId,\n    serverUrl: options?.serverPath ?? 'https://collect.riskid.security/',\n    sdkVersion: options?.sdkVersion ?? 'latest',\n    ...(options?.userId && { userId: options.userId }),\n    onError:\n      options?.onError && typeof options.onError == 'function'\n        ? options?.onError\n        : (err: Error) => {\n            console.log(err);\n          },\n  };\n};\n\nconst AccountProtectionContext = createContext<{ state: ProviderState; dispatch: Dispatch<ProviderState> } | undefined>(\n  undefined,\n);\n\nconst userReducer = (state: ProviderState, newState: Partial<ProviderState>): ProviderState => {\n  return {\n    ...state,\n    ...newState,\n  };\n};\n\n// Context for being able to use a global/high level state-management. it could be globally (app root) or fragmented\n\nexport function TSAccountProtectionProvider({\n  children,\n  clientId,\n  options,\n}: {\n  children: React.ReactNode;\n  clientId: string;\n  options?: { [key: string]: any };\n}) {\n  if (!clientId) {\n    throw new Error('No clientId was provided');\n  }\n  let sdkInitialized: (status: boolean) => void;\n  const providerState = buildProviderState(clientId, options);\n  providerState.initialized = new Promise<boolean>((resolve) => {\n    let resolved = false;\n    sdkInitialized = (status) => {\n      if (!resolved) {\n        resolved = true;\n        resolve(status);\n      }\n    };\n  });\n  const [state, dispatch] = useReducer(userReducer, providerState);\n  const providerValue = useMemo(() => ({ state, dispatch }), [state, dispatch]);\n\n  useEffect(() => {\n    let loadSDKPromise;\n    try {\n      loadSDKPromise = getLoadSDKPromise(RISKID_SDK_SCRIPT, providerState.sdkVersion);\n    } catch(error) {\n      return;\n    }\n    loadSDKPromise.then(async () => {\n      const initializedPromise = makeQuerablePromise(providerState.initialized);\n      if (initializedPromise.status != PromiseStatus.Fulfilled && !window.myTSAccountProtection) {\n        try {\n          const serverPath = providerState.serverUrl;\n          console.log(\n            `Initializes AccountProtection SDK with { clientId: ${providerState.clientId}, serverUrl: ${serverPath} }`,\n          );\n          window.myTSAccountProtection = new TSAccountProtection(providerState.clientId, { serverPath });\n          try {\n            await window.myTSAccountProtection.init(providerState?.userId);\n            sdkInitialized(true);\n          } catch (err) {\n            providerState.onError(buildSdkError(err, SDK_INIT_ERR));\n            sdkInitialized(false);\n          }\n        } catch (err) {\n          providerState.onError(buildSdkError(err, SDK_LOAD_ERR));\n          sdkInitialized(false);\n        }\n      }\n    }).catch((err) => {\n      providerState.onError(buildSdkError(err, SDK_LOAD_ERR));\n      sdkInitialized(false);\n    });\n  }, []);\n\n  return <AccountProtectionContext.Provider value={providerValue}>{children}</AccountProtectionContext.Provider>;\n};\n\nfunction getTriggerActionEventFunc(providerState: ProviderState) {\n  return async function triggerActionEvent(actionType: string, options = {}): Promise<ActionResponse | null> {\n    if (await providerState.initialized) {\n      try {\n        return await window.myTSAccountProtection?.triggerActionEvent(actionType, options);\n      } catch (err) {\n        providerState.onError(buildSdkError(err, SDK_TRIGGER_ACTION_ERR));\n      }\n    }\n    return null;\n  }\n}\n\nfunction getAuthenticatedUserFunc(providerState: ProviderState, providerDispatch: Function) {\n  return async function setAuthenticatedUser(userId?: string, options = {}): Promise<boolean> {\n    if (await providerState.initialized) {\n      try {\n        providerDispatch({\n          ...providerState,\n          userId,\n        });\n        return await window.myTSAccountProtection?.setAuthenticatedUser(userId, options);\n      } catch (err) {\n        providerState.onError(buildSdkError(err, SDK_AUTHENTICATE_USER_ERR));\n      }\n    }\n    return false;\n  }\n}\n\nfunction getClearUserFunc(providerState: ProviderState, providerDispatch: Function) {\n  return async function clearUser(options = {}): Promise<boolean> {\n    if (await providerState.initialized) {\n      try {\n        const { userId, ...rest } = providerState;\n        providerDispatch({\n          ...rest,\n        });\n        return await window.myTSAccountProtection?.clearUser(options);\n      } catch (err) {\n        providerState.onError(buildSdkError(err, SDK_CLEAR_USER_ERR));\n      }\n    }\n    return false;\n  }\n}\n\nconst useAccountProtectionContext = () => {\n  const context = useContext(AccountProtectionContext);\n  if (context === undefined) {\n    // if there is no value the hook is not being called within a function component that is rendered within a `TimelineContextProvider`\n    throw new Error('`useTSAccountProtection` must be used within App');\n  }\n  return context;\n};\n\nexport const useTSAccountProtection = () => {\n  // used in specific component\n  const { state, dispatch } = useAccountProtectionContext();\n  return {\n    triggerActionEvent: getTriggerActionEventFunc(state),\n    setAuthenticatedUser: getAuthenticatedUserFunc(state, dispatch),\n    clearUser: getClearUserFunc(state, dispatch),\n  };\n};\n"],"names":["getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","toObject","val","shouldUseNative","test1","test2","i","order2","n","test3","letter","f","require$$0","g","reactJsxRuntime_production_min","h","m","p","q","c","a","k","b","d","e","l","jsxRuntimeModule","jsx","jsxRuntime.jsx","RISKID_SDK_SCRIPT","SDK_INIT_ERR","SDK_LOAD_ERR","SDK_TRIGGER_ACTION_ERR","SDK_AUTHENTICATE_USER_ERR","SDK_CLEAR_USER_ERR","makeQuerablePromise","promise","isRejected","isFulfilled","result","then","value","err","status","PromiseStatus","buildSdkError","message","generateSdkUrl","sdkVersion","getLoadSDKPromise","id","parentElement","document","getElementById","Error","Promise","resolve","reject","scriptTag","createElement","sdkSrcUrl","defer","src","onload","onerror","head","appendChild","buildProviderState","clientId","options","initialized","serverUrl","serverPath","userId","onError","console","log","AccountProtectionContext","createContext","undefined","userReducer","state","newState","TSAccountProtectionProvider","children","sdkInitialized","providerState","resolved","dispatch","useReducer","providerValue","useMemo","useEffect","loadSDKPromise","window","myTSAccountProtection","TSAccountProtection","init","catch","_jsx","Provider","getTriggerActionEventFunc","actionType","triggerActionEvent","getAuthenticatedUserFunc","providerDispatch","setAuthenticatedUser","getClearUserFunc","rest","clearUser","useAccountProtectionContext","context","useContext","useTSAccountProtection"],"mappings":"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"}